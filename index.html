<!DOCTYPE html>
<html data-bs-theme="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>ProyectoLenguajes</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" />
  </head>

  <body class="text-center">
    <div class="container">
      <nav class="navbar navbar-expand-md bg-body">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Home</a
          ><button
            data-bs-toggle="collapse"
            class="navbar-toggler"
            data-bs-target="#navcol-1"
          >
            <span class="visually-hidden">Toggle navigation</span
            ><span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" href="#">Ecuaciones Aceptadas</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Grados de Polinomios Aceptados</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">¿Qué no hacer?</a>
              </li>
              <li class="nav-item"></li>
            </ul>
            <a href="#"></a>
          </div>
        </div>
      </nav>
    </div>
    <h1 style="text-align: center; margin: 24px; font-size: 52px; height: 57px">
      Analizador Sintáctico de Polinomios
    </h1>
    <div
      class="container-fluid text-center"
      style="
        text-align: center;
        margin: 0px;
        padding: 0px;
        margin-left: 0px;
        padding-right: 0px;
        margin-right: 0px;
        margin-top: 40px;
      "
    >
      <input
        type="text"
        id="textInputCalculator"
        style="
          margin: 0px;
          height: 59px;
          width: 488px;
          font-size: 37px;
          padding: 10px;
          padding-top: 0;
          padding-right: 0;
          padding-bottom: 6;
          padding-left: 15px;
          text-align: justify;
        "
      />
      <button
        class="btn btn-primary"
        type="button"
        style="
          margin: 20px;
          height: 60px;
          width: 107px;
          font-size: 23px;
          margin-top: -4px;
        "
      >
        Analizar
      </button>
      <button
        class="btn btn-primary"
        type="button"
        style="
          background: #cf0124;
          height: 60px;
          width: 100px;
          font-size: 23px;
          margin-top: -23px;
        "
      >
        Limpiar
      </button>
    </div>
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="row">
            <div class="col" style="width: 1140px; padding: -7px">
              <button
                class="btn btn-primary"
                type="button"
                style="
                  width: 85px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                arcsin</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                Sin</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                x</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                (</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                )</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                0&nbsp;</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0px;
                "
              >
                x^5</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 85px;
                  font-size: 23px;
                  height: 45px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-200);
                  border-color: var(--bs-gray-500);
                  padding: 0px;
                "
              >
                Borrar
              </button>
            </div>
          </div>
          <div
            class="row"
            style="
              width: -31px;
              color: var(--bs-body-color);
              background: var(--bs-btn-disabled-border-color);
            "
          >
            <div
              class="col"
              style="
                width: 1140px;
                color: var(--bs-body-color);
                background: var(--bs-btn-disabled-border-color);
              "
            >
              <button
                class="btn btn-primary"
                type="button"
                style="
                  width: 85px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                arccos</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                Cos</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                x^2</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                7</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                8</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                9</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                x^6</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 85px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                  padding-top: 0;
                "
              >
                /
              </button>
            </div>
          </div>
          <div
            class="row"
            style="
              width: -31px;
              color: var(--bs-body-color);
              background: var(--bs-btn-disabled-border-color);
            "
          >
            <div
              class="col"
              style="
                width: 1140px;
                color: var(--bs-body-color);
                background: var(--bs-btn-disabled-border-color);
              "
            >
              <button
                class="btn btn-primary"
                type="button"
                style="
                  width: 85px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                arctan</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                Tan</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                x^3</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                4</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                5</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                6</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                x^7</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 85px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                *
              </button>
            </div>
          </div>
          <div
            class="row"
            style="
              color: var(--bs-body-color);
              background: var(--bs-btn-disabled-border-color);
            "
          >
            <div
              class="col"
              style="
                color: var(--bs-body-color);
                background: var(--bs-btn-disabled-border-color);
              "
            >
              <button
                class="btn btn-primary"
                type="button"
                style="
                  width: 85px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                π</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                Log</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  width: 70px;
                  margin: 6px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                x^4</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                1</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                2</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                3</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 70px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                √(x)</button
              ><button
                class="btn btn-primary"
                type="button"
                style="
                  margin: 6px;
                  width: 85px;
                  color: var(--bs-body-color);
                  background: var(--bs-gray-300);
                  border-color: var(--bs-gray-500);
                  height: 45px;
                  font-size: 23px;
                  padding: 0;
                "
              >
                +
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="row"></div>
        </div>
      </div>
    </div>
    <div class="container" style="padding: 0px">
      <h1
        style="
          text-align: center;
          margin: 21px;
          font-size: 35px;
          background: rgba(142, 226, 188, 0.31);
          height: 53px;
          padding: 7px 0px 0px;
          padding-top: 5px;
          color: var(--bs-emphasis-color);
        "
      >
        Respuesta
      </h1>
      <label
        class="form-label"
        style="
          height: 36px;
          font-size: 20px;
          font-weight: bold;
          color: var(--bs-emphasis-color);
        "
        >Tipo de polinomio</label
      >
      <input
        type="text"
        id="resultado"
        style="
          margin-left: 18px;
          height: 36px;
          font-size: 20px;
          font-weight: bold;
        "
      />
      <label
        class="form-label"
        style="
          margin-left: 30px;
          height: 36px;
          font-size: 20px;
          font-weight: bold;
          color: var(--bs-emphasis-color);
        "
        >Polinomio Simplificado</label
      >
      <input type="text" style="margin-left: 18px; height: 36px" />
    </div>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script>
      // Función para agregar texto al input
      function addTextToInput(text) {
        var input = document.getElementById("textInputCalculator");
        input.value += text;
      }

      // Función para limpiar el input
      function clearInput() {
        var input = document.getElementById("textInputCalculator");
        var inputEcuacion = document.getElementById("resultado");
        input.value = "";
        input.style.backgroundColor = "white";
        inputEcuacion.value = "";
      }

      // Función para borrar el último carácter del input
      function deleteLastCharacter() {
        var input = document.getElementById("textInputCalculator");
        input.value = input.value.slice(0, -1); // Remueve el último carácter
      }

      window.onload = function () {
        var buttons = document.querySelectorAll("button");
        buttons.forEach(function (button) {
          button.addEventListener("click", function () {
            if (button.textContent === "Limpiar") {
              clearInput();
            } else if (button.textContent === "Borrar") {
              deleteLastCharacter();
            } else if (button.textContent === "Analizar") {
              analizarEcuacion();
            } else {
              addTextToInput(button.textContent);
            }
          });
        });
      };

      function validarEcuacion(ecuacion) {
        const regexPrimerGrado =
          /^([-+]?\d*x\s*([-+]\s*\d+)?|\(\s*[-+]?\d*x\s*([-+]\s*\d+)?\s*\)\s*=\s*[-+]?\d+)$/;
        const regexSegundoGrado =
          /^([-+]?\d*x\^2\s*([-+]\s*\d*x)?\s*([-+]\s*\d+)?|\(\s*[-+]?\d*x\^2\s*([-+]\s*\d*x)?\s*([-+]\s*\d+)?\s*\)\s*=\s*[-+]?\d+)$/;
        const regexCubica =
          /^([-+]?\d*x\^3\s*([-+]\s*\d*x\^2)?\s*([-+]\s*\d*x)?\s*([-+]\s*\d+)?|\(\s*[-+]?\d*x\^3\s*([-+]\s*\d*x\^2)?\s*([-+]\s*\d*x)?\s*([-+]\s*\d+)?\s*\)\s*=\s*[-+]?\d+)$/;

        const regexExponencial =
          /^(\(?([a-zA-Z]|\d+\.\d+|\d+)\^(\w+)\)?)\s*(?:([-+*/]\s*(?:\d+(?:\.\d+)?|[a-zA-Z])))?\s*=\s*(-?\d+(\.\d+)?)$/;
        const regexTrigonométrica =
          /^(?!.*==)(?!^[=,|#&\/|])(?!.*[_!?$%&|°])(sin|cos|tan)\((?:[a-zA-Z0-9π\/()]+(?:\s*[+*\/-]\s*[a-zA-Z0-9π\/()]+)*)\)\s*=\s*(-?\d+(\.\d+)?)$/;

        if (!validarParentesisBalanceados(ecuacion)) {
          return "Paréntesis desbalanceados";
        } else if (regexCubica.test(ecuacion)) {
          return "Ecuación cúbica";
        } else if (regexSegundoGrado.test(ecuacion)) {
          return "Ecuación de segundo grado";
        } else if (regexPrimerGrado.test(ecuacion)) {
          return "Ecuación de primer grado";
        } else if (regexTrigonométrica.test(ecuacion)) {
          return "Ecuación trigonométrica";
        } else if (regexExponencial.test(ecuacion)) {
          return "Ecuación Exponencial";
        } else {
          return "Expresión no reconocida";
        }
      }

      function simplificarEcuacion(ecuacion) {
        // Simplificar la ecuación aquí
        return ecuacion;
      }

      function analizarEcuacion() {
        var inputEcuacion = document.getElementById("resultado");
        inputEcuacion.value = "";
        var input = document.getElementById("textInputCalculator");
        var tipoEcuacion = validarEcuacion(input.value);
        inputEcuacion.value += tipoEcuacion;
        if (
          tipoEcuacion === "Paréntesis desbalanceados" ||
          tipoEcuacion === "Expresión no reconocida"
        ) {
          input.style.backgroundColor = "red";
        } else {
          input.style.backgroundColor = "lightgreen";
        }
      }

      function validarParentesisBalanceados(ecuacion) {
        const stack = [];
        for (let i = 0; i < ecuacion.length; i++) {
          if (ecuacion[i] === "(") {
            stack.push("(");
          } else if (ecuacion[i] === ")") {
            if (stack.length === 0) {
              return false;
            }
            stack.pop();
          }
        }
        return stack.length === 0;
      }
    </script>
  </body>
</html>
